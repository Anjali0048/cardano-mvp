{
  "preamble": {
    "title": "yield-safe/contracts",
    "description": "Impermanent Loss Protection Smart Contracts",
    "version": "1.0.0",
    "plutusVersion": "v2",
    "compiler": {
      "name": "Aiken",
      "version": "v1.0.24-alpha+982eff4"
    },
    "license": "MIT"
  },
  "validators": [
    {
      "title": "vault.vault_validator",
      "datum": {
        "title": "datum",
        "schema": {
          "$ref": "#/definitions/yield_safe~1types~1VaultDatum"
        }
      },
      "redeemer": {
        "title": "redeemer",
        "schema": {
          "$ref": "#/definitions/vault~1VaultRedeemer"
        }
      },
      "compiledCode": "59065e01000032323232323232323222232323253330093232533300b3370e90011805000899191919299980799b8748000c0380044c8c8c8c94ccc04ccdc3a4000602400226464646464646464646464646464646464646464a66604e66e1d20000021323232323232533302d533302d009100414a020022940cdc380099b8000200433300537566044605202e6eb8c078c0a4044dd7181118148089998021bab302130283021302801a375c603a60500206eb8c084c0a0040cdc4240000026eb4c0b4004c09408c54ccc09ccdc3a40040042646464646464646464a666060a666060a666060018200a2940401052808008a503370e00266e0400801cccc020dd59812981600d1bae3021302c014375c604a605802866600e6eacc090c0acc090c0ac074dd7181018158099bae3024302b013533302c00914a2266e240080314ccc0accdc424000006266e2400c03c5281bad302f001302f002375a605a002604a0462a66604e66e1d2004002132323232533302b533302b007100214a020022940cdd7981098141810981400d1810981400b2999814a999814a99981499b8948000dd6980e1813800899b89375a6038604e00290504e008a5013371090001bad301c30273020302700114a0266e212000375a6040604e6040604e0022940c0b4004c09408c4c8c8c8c94ccc0ad4ccc0ad4ccc0ac01c402052808018a50100114a066605464646600200200444a66606000229404c8c94ccc0bccdd7981118168010030a5113300400400130340023032001375860326050603a605004a94128980e18139810181380c99b8848000004ccc004dd5980f1812980f181280ba4500488100222323232533302c3370e90010008a400026eb4c0c4c0a8008c0a8004c94ccc0accdc3a4004002298103d87a8000132323300100100222533303100114c103d87a800013232323253330323371e014004266e95200033036375000297ae0133006006003375a60660066eb8c0c4008c0d4008c0cc004dd598181814801181480099198008008021129998170008a6103d87a8000132323232533302f3371e010004266e95200033033374c00297ae0133006006003375660600066eb8c0b8008c0c8008c0c0004c090084c8c8cc004004008894ccc0a800452809919299981499b8f00201314a2266008008002605c0046eb8c0b0004dd61814981518151815181518151815181518151811180b981100f99b8748008c090dd51814000981400098138011bad3025001301d007375a604600260460046eb4c084004c084008c07c004c07c008c074004c074008dd7180d8009809809180c80098088008b19991800800911299980c0010a60103d87a80001323253330173370e0069000099ba548000cc06c0092f5c0266600a00a00266e0400d2002301c003301a002375860026020600a602001a90001180b980c180c000980a80098068008b19191980080080111299980a0008a60103d87a80001323253330133375e600c602200400e266e952000330170024bd70099802002000980c001180b0009bac3001300c3001300c009230130013011001300900116300130080052300f301000114984d958c94ccc024cdc3a400000226464a66601c60220042930b1bad300f0013007005153330093370e9001000899191919299980818098010a4c2c6eb4c044004c044008dd6980780098038028a99980499b87480100044c8c94ccc038c0440084c926300500116300f0013007005153330093370e90030008a99980618038028a4c2c2c600e00864a66601066e1d200000113232323232323232323232325333017301a0021323232498c94ccc05ccdc3a400000226464646464646464a666044604a0042930b1bad30230013023002375a604200260420046eb4c07c004c07c008dd6980e800980a8020b180a80199299980b19b87480000044c8c8c8c94ccc074c08000852616375c603c002603c0046eb8c070004c05002458c050020c03802458c060004c060008dd6980b000980b0011bad301400130140023012001301200230100013010002375c601c002600c00a2c600c008464a66601066e1d2000001132323232323253330113014002132498c94ccc03ccdc3a4000002264646464a66602c60320042930b1bad30170013017002375a602a002601a0082c601a0062c66e1d2002300e375460240026024004602000260200046eb4c038004c01800858c0180048c014dd5000918019baa0015734aae7555cf2ab9f5740ae855d101",
      "hash": "0509a31d5738711ff67df8d4d9d17bf1fff3b17bc71c9b39e9bcf360"
    }
  ],
  "definitions": {
    "Bool": {
      "title": "Bool",
      "anyOf": [
        {
          "title": "False",
          "dataType": "constructor",
          "index": 0,
          "fields": []
        },
        {
          "title": "True",
          "dataType": "constructor",
          "index": 1,
          "fields": []
        }
      ]
    },
    "ByteArray": {
      "dataType": "bytes"
    },
    "Int": {
      "dataType": "integer"
    },
    "vault/VaultRedeemer": {
      "title": "VaultRedeemer",
      "description": "Actions users can perform on vault",
      "anyOf": [
        {
          "title": "Deposit",
          "dataType": "constructor",
          "index": 0,
          "fields": [
            {
              "title": "amount",
              "$ref": "#/definitions/Int"
            }
          ]
        },
        {
          "title": "Withdraw",
          "dataType": "constructor",
          "index": 1,
          "fields": [
            {
              "title": "amount",
              "$ref": "#/definitions/Int"
            },
            {
              "title": "current_il",
              "$ref": "#/definitions/Int"
            }
          ]
        },
        {
          "title": "UpdatePolicy",
          "dataType": "constructor",
          "index": 2,
          "fields": [
            {
              "title": "new_policy",
              "$ref": "#/definitions/yield_safe~1types~1UserPolicy"
            }
          ]
        },
        {
          "title": "EmergencyExit",
          "dataType": "constructor",
          "index": 3,
          "fields": []
        }
      ]
    },
    "yield_safe/types/Asset": {
      "title": "Asset",
      "description": "Asset definition (PolicyID + TokenName)",
      "anyOf": [
        {
          "title": "Asset",
          "dataType": "constructor",
          "index": 0,
          "fields": [
            {
              "title": "policy_id",
              "$ref": "#/definitions/ByteArray"
            },
            {
              "title": "token_name",
              "$ref": "#/definitions/ByteArray"
            }
          ]
        }
      ]
    },
    "yield_safe/types/AssetRatio": {
      "title": "AssetRatio",
      "description": "Asset ratio for price tracking and IL calculations",
      "anyOf": [
        {
          "title": "AssetRatio",
          "dataType": "constructor",
          "index": 0,
          "fields": [
            {
              "title": "asset_a_amount",
              "$ref": "#/definitions/Int"
            },
            {
              "title": "asset_b_amount",
              "$ref": "#/definitions/Int"
            }
          ]
        }
      ]
    },
    "yield_safe/types/PoolState": {
      "title": "PoolState",
      "description": "Pool state at a specific point in time",
      "anyOf": [
        {
          "title": "PoolState",
          "dataType": "constructor",
          "index": 0,
          "fields": [
            {
              "title": "reserve_a",
              "$ref": "#/definitions/Int"
            },
            {
              "title": "reserve_b",
              "$ref": "#/definitions/Int"
            },
            {
              "title": "total_lp_tokens",
              "$ref": "#/definitions/Int"
            },
            {
              "title": "last_update_time",
              "$ref": "#/definitions/Int"
            }
          ]
        }
      ]
    },
    "yield_safe/types/UserPolicy": {
      "title": "UserPolicy",
      "description": "User's IL protection configuration",
      "anyOf": [
        {
          "title": "UserPolicy",
          "dataType": "constructor",
          "index": 0,
          "fields": [
            {
              "title": "max_il_percent",
              "$ref": "#/definitions/Int"
            },
            {
              "title": "deposit_ratio",
              "$ref": "#/definitions/yield_safe~1types~1AssetRatio"
            },
            {
              "title": "emergency_withdraw",
              "$ref": "#/definitions/Bool"
            }
          ]
        }
      ]
    },
    "yield_safe/types/VaultDatum": {
      "title": "VaultDatum",
      "description": "Vault datum containing user funds and policy",
      "anyOf": [
        {
          "title": "VaultDatum",
          "dataType": "constructor",
          "index": 0,
          "fields": [
            {
              "title": "owner",
              "$ref": "#/definitions/ByteArray"
            },
            {
              "title": "policy",
              "$ref": "#/definitions/yield_safe~1types~1UserPolicy"
            },
            {
              "title": "lp_asset",
              "$ref": "#/definitions/yield_safe~1types~1Asset"
            },
            {
              "title": "deposit_amount",
              "$ref": "#/definitions/Int"
            },
            {
              "title": "deposit_time",
              "$ref": "#/definitions/Int"
            },
            {
              "title": "initial_pool_state",
              "$ref": "#/definitions/yield_safe~1types~1PoolState"
            }
          ]
        }
      ]
    }
  }
}